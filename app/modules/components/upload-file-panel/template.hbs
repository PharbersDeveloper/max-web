<div local-class="step-content-wrapper">
    {{#layout-push direction='col' classNames="step-flex-outer"}}
        {{#layout-push direction='row' split=false mid=true classNames="upload-hint"}}
            <p>請上傳本次需要添加的數據源文件，並確保文件格式、數據格式正確。 數據格式規範模板</p>
            {{base-button type="link" content="点击下载" onClick="" }}
        {{/layout-push}}
        {{#layout-push direction='row' split=true mid=true classNames="file-upload-group file-upload-group-panel"}}
            {{#layout-push direction='col' split=true mid=true classNames="file-upload-view"}}
                {{#layout-push direction='row' split=true mid=true classNames="file-upload-view-title"}}
                    <p>
                        {{#unless filepanel }}
                            <span>请上传Panel文件</span>
                        {{else}}
                            <span>Panel文件</span>
                        {{/unless}}
                    </p>
                    <p>
                        <span>(仅支持：excel)</span>
                    </p>
                {{/layout-push}}
                {{#layout-push direction='row' split=true mid=true classNames="file-upload-view-pic"}}
                    <div local-class="upload-area">
                        <div local-class="dropzone-upload-area" class={{concat 'upload ' (if dropzone.active 'active')}}>
                            {{#unless filepanel }}
                                <img src="../assets/images/panel.png" alt="">
                            {{else}}
                                <img src="../assets/images/paneldone.png" alt="">
                            {{/unless}}
                        </div>
                    </div>
                {{/layout-push}}
                {{#layout-push direction='row' split=true mid=true classNames="file-upload-view-btn"}}
                    {{#file-upload name="file-cpa" multiple=false onfileadd=(action "uploadPanelFile" ) accept="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" as |queue|}}
                        {{#if queue.files.length}}
                            <div local-class="upload-progress-container">
                                <div local-class="upload-progress">
                                    {{#bs-progress as |p|}}
                                        {{p.bar value=queue.progress minValue=0 maxValue=100 showLabel=true type='success' striped=true animate=true}}
                                    {{/bs-progress}}
                                </div>
                            </div>
                        {{else}}
                            {{#unless filepanel }}
                                <span local-class="click-upload"><a>选择文件</a></span>
                            {{else}}
                                <span local-class="click-upload">
                                    {{#if filepanel}} {{filepanel}} {{/if}}
                                    <a local-class="delete" {{action "deletePanelFile"}}>删除文件</a>
                                </span>
                            {{/unless}}
                        {{/if}}
                    {{/file-upload}}
                {{/layout-push}}
            {{/layout-push}}
        {{/layout-push}}
        {{#layout-push direction='row' classNames="upload-file-next-btn"}}
            {{#if isDisabled}}
                {{base-button type="disabled" content="下一步" onClick="pleaseUploadFile" }}
            {{else}}
                {{base-button content="下一步" onClick="next" }}
            {{/if}}
        {{/layout-push}}
    {{/layout-push}}
</div>
{{#bs-modal-simple
        fade=false
        closeButton=false
        keyboard=false
        open=remindUploadFile
        title="提示"
        closeTitle="确定" onHidden=(action (mut remindUploadFile) false)}}
    <p>请上传文件</p>
{{/bs-modal-simple}}
{{#bs-modal-simple
        fade=false
        closeButton=false
        keyboard=false
        open=uploadError
        title="提示"
        closeTitle="确定" onHidden=(action (mut uploadError) false)}}
    <p>{{errorMessage}}</p>
{{/bs-modal-simple}}
{{!-- {{yield}} --}}